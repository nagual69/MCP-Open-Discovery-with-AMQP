# MCP Open Discovery — example.env
#
# Copy this file to `.env` and customize values as needed for your environment.
# Do NOT commit real credentials. Keep `.env` out of version control.
#
# Notes:
# - Booleans accept: 1/true/yes/on (case-insensitive). Use false/0/no/off to disable.
# - Windows/PowerShell + Docker: prefer `./rebuild_deploy.ps1` to rebuild/redeploy.
# - Local dev (Node >= 23): `npm start` or `npm run start-http` (HTTP transport).

########################################
# Core server and transports
########################################
# Comma-separated transports to start: stdio, http, amqp (any combination)
TRANSPORT_MODE=http

# HTTP transport port (PORT is an alternate commonly used by hosts)
# Convention: use 6270 as the common MCP Server port for remote clients
HTTP_PORT=6270
# PORT=6270

# OAuth (HTTP transport middleware). Leave disabled unless you have a provider configured
OAUTH_ENABLED=false
OAUTH_REALM=mcp-open-discovery
OAUTH_SUPPORTED_SCOPES=mcp:read,mcp:tools,mcp:resources
# Public/base URI used by OAuth flows; set to your external URL and port
# OAUTH_RESOURCE_SERVER_URI=http://localhost:6270
# OAUTH_AUTHORIZATION_SERVER=https://auth.example.com/

########################################
# AMQP transport
########################################
AMQP_URL=amqp://mcp:discovery@localhost:5672
AMQP_QUEUE_PREFIX=mcp.discovery
AMQP_EXCHANGE=mcp.notifications

########################################
# Registry, plugins, and security policies
########################################
# Allow plugins to declare/use externalDependencies
PLUGIN_ALLOW_RUNTIME_DEPS=false

# Enforce declared capabilities vs. captured registrations
STRICT_CAPABILITIES=false

# Enforce dist.checksums coverage and treat integrity issues as failures
STRICT_INTEGRITY=false

# Require SBOM presence when declared (advisory unless enabled)
STRICT_SBOM=false

# Require plugins to be signed and verified against trusted keys
REQUIRE_SIGNATURES=false

# Optional synonyms (leave commented unless you specifically need them)
# PLUGIN_REQUIRE_SIGNED=false
# PLUGIN_STRICT_CAPABILITIES=false

# Trusted signing key credential IDs (comma/space-separated). Keys are read via credentials manager
# PLUGIN_TRUSTED_KEY_IDS=prod-signing-key-1,prod-signing-key-2

# Override schema path for plugin manifest v2 (development/testing)
# SCHEMA_PATH=d:\work\schemas\mcp-plugin.schema.v2.json

# Hint that a sandbox is available for sandbox-required policy
# SANDBOX_AVAILABLE=false

# Override root directory for plugin store (default: <home>/plugins or <cwd>/plugins)
# PLUGINS_ROOT=d:\mcp-plugins

# Extra loader/registry debug logging
DEBUG_REGISTRY=false

########################################
# Credentials and persistence
########################################
# Base64-encoded 32-byte key used to encrypt credentials store.
# In containers, a key file may be mounted instead (see data/mcp_creds_key).
# MCP_CREDS_KEY=BASE64_32BYTE_KEY_HERE

########################################
# Discovery integrations — Zabbix
########################################
# Defaults match Zabbix quick-start containers; override as needed
ZABBIX_BASE_URL=http://localhost:8080
ZABBIX_USERNAME=Admin
ZABBIX_PASSWORD=zabbix

########################################
# Discovery integrations — Proxmox (optional)
########################################
# Uncomment and set when using Proxmox tools
# PROXMOX_HOST=192.168.1.100
# PROXMOX_PORT=8006
# PROXMOX_REALM=pam
# PROXMOX_ID=root
# PROXMOX_PASSWORD=your-strong-password

########################################
# Discovery integrations — SNMP (optional)
########################################
# SNMP test agents and community string for local testing/demo
# SNMP_AGENT_1=192.168.1.10
# SNMP_AGENT_2=192.168.1.11
# SNMP_AGENT_3=192.168.1.12
# SNMP_COMMUNITY=public

########################################
# Misc
########################################
# Health endpoint: GET http://localhost:${HTTP_PORT}/health
# Logging levels can be adjusted at runtime via the logging/setLevel tool.
